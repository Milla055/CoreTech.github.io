 public static JSONObject createUser(String username, String email, String phone, String passwordHash, String role) {
    JSONObject resp = new JSONObject();

    try {
        EntityManager em = emf.createEntityManager();
        StoredProcedureQuery query = em.createStoredProcedureQuery("createUser");

        query.registerStoredProcedureParameter("usernameIN", String.class, ParameterMode.IN);
        query.registerStoredProcedureParameter("emailIN", String.class, ParameterMode.IN);
        query.registerStoredProcedureParameter("phoneIN", String.class, ParameterMode.IN);
        query.registerStoredProcedureParameter("passwordIN", String.class, ParameterMode.IN);
        query.registerStoredProcedureParameter("roleIN", String.class, ParameterMode.IN);

        query.setParameter("usernameIN", username);
        query.setParameter("emailIN", email);
        query.setParameter("phoneIN", phone);
        query.setParameter("passwordIN", passwordHash);
        query.setParameter("roleIN", role);

        query.execute();

        resp.put("status", "Success");
        resp.put("statusCode", 201);

    } catch (Exception e) {
        resp.put("status", "DatabaseError");
        resp.put("statusCode", 500);
        e.printStackTrace();
    }

    return resp;
}
